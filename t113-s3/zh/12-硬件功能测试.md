# 12-硬件功能测试





## 扩展引脚

![image-20240713100507130](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/K4B详情页_08.jpg)

## LVDS

### 显示
```
echo 8 > /sys/devices/virtual/disp/disp/attr/colorbar
```
### 触控




### 背光

```
/usr/bin/lcd_bright_test 2 255
/usr/bin/lcd_bright_test 2 0
```



## Buildroot测试脚本

```
buildroot/package/auto/sdk_demo/

alpha_test/         bin/                dvr_test/           gif2rgb_test/       mem_test/           tpadc_test/         
audioenc_test/      csi_test/           encoder_test/       gpio_test/          multiscreen_test/   tvd_test/           
autplayer_test/     decoder_test/       fbinit_test/        lcd_bright_test/    record_test/        usbcam_test/        
awrpaf_test/        dsp_debug_test/     g2d_test/           Makefile            stream_player_test/ yuv_test/  
```





## DUAL LVDS





## 耳机





## 喇叭

```

```





## 麦克风







## WIFI







## 蓝牙







## RTC







## 4G Mobile







## CAN

### CAN收发测试

K4B支持两路CAN接口，可将两路CAN连接后做收发测试



**硬件连接**

CANL <---> CANL

CANH <---> CANH

![image-20240930140153264](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20240930140153264.png)



**测试命令**

```
# 初始化CAN0
$ ip link set can0 down
$ ip link set can0 type can bitrate 500000
$ ip link set can0 up

# 初始化CAN1
$ ip link set can1 down
$ ip link set can1 type can bitrate 500000
$ ip link set can1 up

# 开始收发测试(CAN0接受、CAN1发送)
$ candump can0
$ cansend can1 123#DEADBEEF
```





## 串口

K4B 配备4路串口



**查看串口设备节点**

```
$ ls /dev/ttyS*
ttyS1  ttyS3  ttyS4  ttyS5
```

> 串口设备节点说明：
>
> ​	ttyS1 作为 RS485串口
>
> ​	ttyS3 作为 调试串口
>
> ​	ttyS4 作为 TTL串口
>
> ​	ttyS5 作为 RS232串口



### 调试串口测试

![{50132506-DFF8-4D5F-B81D-B7BF351E7D1F}](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/{50132506-DFF8-4D5F-B81D-B7BF351E7D1F}.png)





### TTL串口测试

**硬件连接**






``` 
minicom -D /dev/ttyS4 -b 115200
echo hello > /dev/ttyS4 

```



**测试命令**

```
minicom
```





### RS232串口测试

**硬件连接**





**测试命令**



### RS485串口测试

**硬件连接**





**测试命令**



