# Kernel

## Configure defconfig

Android kernel configuration

```
$ ./build.sh -M
```

Linux kernel configuration

```
$ ./build.sh kernel-config
```

Kernel path

```
kernel-5.10
```

General configuration commands for kernel config

```
cd kernel-5.10/
make loadconfig
make ARCH=arm64 menuconfig
make saveconfig
make ARCH=arm64 rockchip_defconfig
```
> ARCH=arm64 &emsp; Configure the architecture. Currently, rk356x/3588 uses the arm64 architecture.
> menuconfig &emsp; Launch the graphical configuration interface.
> saveconfig &emsp; Save the current configuration as a `defconfig` file after streamlining.
> rockchip_defconfig &emsp; Load the ARM64 architecture configuration file pre - set by Rockchip.
> loadconfig &emsp; Load the default defconfig.

```
cp defconfig arch/arm64/configs/rockchip_defconfig
```

> The defconfig generated by `make saveconfig` needs to be copied to the *defconfig file used for SDK compilation.
>
> The defconfig may vary across different versions. You can find the corresponding version file in the git history.
>
> $ git log --name-only   kernel-5.10/ | grep defconfig


## DTS

rk356x-linux

```
kernel/arch/arm64/boot/dts/rockchip/
    rk3562-kickpi-k3-linux.dts
    rk3568-kickpi-k1-linux.dts
    rk3568-kickpi-k1b-linux.dts
    rk3588-kickpi-k8-linux.dts
```

rk-android

```
kernel-5.10/arch/arm64/boot/dts/rockchip
    rk3568-kickpi-k1-android.dts
    rk3568-kickpi-k1b-android.dts
    rk3562-kickpi-k3-android.dts
    rk3588-kickpi-k8-android.dts
```