# 02-快速使用

本指南旨在帮助用户快速上手使用主板，包含板卡上电、显示屏连接、调试串口、ADB 、SSH 连接等内容。



## 符号说明

* `SDK$`：指代源码路径

* `console$`：泛指主板的命令行控制台。[主板命令行控制台](#console_readme)

* `ADB$`：Android Debug Bridge 命令行工具，泛指可运行 ADB 的环境



## 板卡上电

### **供电方式**

主板支持 DC12V 电源接口供电，如下图所示：

![K7-DC12V](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250415192618127.png)



### 状态灯

开发板配备两个 LED 灯：

- 绿色 LED 为电源指示灯
- 蓝色 LED 为心跳指示灯

![K7-LED](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250416150032731.png)



### **上电步骤**

1. 插上 DC12V 电源圆形输出接口，给板卡上电。
2. 通过两个 LED 灯的状态，初步判断开发板运行状态：
   - 电源指示灯上电即长亮。若不亮，则检查电源部分是否异常。
   - 心跳灯内核启动后持续闪烁。若不闪烁，则系统运行可能异常。



## 显示屏<a id="K7-LCD"> </a>

主板支持 TYPE-C DP、HDMI OUT、MIPI DSI 三种接口显示画面，可接入对应显示屏显示系统画面。



### MIPI DSI

**注意事项**

在接入 MIPI DSI 屏幕之前，请务必先将主板断电，以免损坏设备。

**适配屏幕**

主板配备一路 MIPI DSI 显示接口，适配以下 MIPI 屏：

| **型号**    | **尺寸**  | **分辨率** | 触摸支持 |
| ----------- | --------- | ---------- | -------- |
| AT101DS40I  | 10.1-inch | 800x1280   | Y        |
| MX101BA1340 | 10.1-inch | 800x1280   | Y        |
| MX080B2140  | 8.0-inch  | 800x1280   | Y        |
| F050008M01  | 5.0-inch  | 720x1280   | Y        |



**硬件接线**

MIPI 屏排线连接时，需确保蓝色面朝上，白色面朝下，然后接入 MIPI DSI 接口。具体接线图如下：

![mipi0_01](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/mipi0_01.png)

![mipi0_02](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/mipi0_02.png)



### HDMI OUT

主板配备了一路 HDMI OUT 显示接口，最大输出分辨率可达 4096x2160p120，并且支持热插拔功能。HDMI 接口详情见下图：

![hdmi_01](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/hdmi_01.png)



### TYPE-C DP

主板配备了一路 TYPE - C 接口，支持 DP 显示功能。TYPE - C 接口详情见下图：

![K7-TYPE C](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250409110346928.png)



## 调试串口

### 波特率

调试串口的波特率需设置为 1500000。



### 调试串口线说明

目前提供的调试串口线共有四根线，各线功能如下：

- 红色：VCC（不需要连接）
- 绿色：TX
- 白色：RX
- 黑色：GND

其他调试工具线的连接方式同理，只需连接 TX、RX、GND 即可，且调试工具需支持 1500000 波特率才能正常通信。调试串口线详情见下图：

![image-20241231145656021](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20241231145656021.png)



### 板卡 DEBUG 引脚

* 引脚标号图：

![image-20250418172813571](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250418172813571.png)

* 实际 DEBUG 引脚位置图：

![image-20250418173112794](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250418173112794.png)



### 接线方法

调试线 **TX** 连接主板上的 **RX**，**RX** 连接主板上的 **TX**，**GND** 连接主板上的 **GND**，不需要连接 **VCC**。

| 主板扩展引脚  | 调试线引脚 |
| :------------ | ---------- |
| UART_RX_DEBUG | TX         |
| UART_TX_DEBUG | RX         |
| GND           | GND        |

![image-20250418173402270](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250418173402270.png)



### **串口助手软件下载与使用**

串口助手软件 可自行下载，下面以Mobaxterm为例

1. **下载地址**：https://mobaxterm.mobatek.net/
2. 操作步骤：
   1. 打开 Mobaxterm，点击 “Session” 按钮，新建一个会话窗口。
   2. 在会话类型列表中，选择 “Serial”。
   3. 选择串口 COM 编号，可通过打开 Windows 系统设备管理器 -> 端口界面查看。
   4. 将串口波特率设置为 1500000。
   5. 点击 “OK” 启动会话窗口。

![image-20250418175523261](http://tanzhtanzh.oss-cn-shenzhen.aliyuncs.com/img/image-20250418175523261.png)



## ADB

ADB（Android Debug Bridge）是安卓开发调试桥接工具，支持通过 USB 或网络连接设备，可实现应用安装、文件传输、命令执行等设备管理与调试操作。



### 调试线与接口

- 调试线：使用 USB TYPE - C 数据线。
- 调试接口：主板的 USB TYPE - C 接口。



### **ADB 工具获取与安装**

**工具获取**

ADB软件工具从KICKPI网盘中获取，Windows平台使用，位于网盘目录

```
5-DevelopmentTool\ADB Tool\adb-tools.rar
```

**安装步骤**

1. 解压 `adb - tools.rar` 压缩包，如解压到 `D:\ADB Tool\adb - tools` 路径。
2. 打开命令行窗口，切换到解压目录：

```
ADB$ cd D:\ADB Tool\adb-tools
```
3. 运行命令，运行成功代表安装成功

```
ADB$ adb --version
```

示例：

```
PS D:\ADB Tool\adb-tools> .\adb.exe --version
Android Debug Bridge version 1.0.40
Version 4797878
Installed as D:\ADB Tool\adb-tools\adb.exe
```



### **ADB 检测设备**

1. 使用 TYPE - C 数据线将电脑和主板连接起来。
2. 打开命令行窗口，切换到 ADB 工具解压目录，运行以下命令，若接入成功，可检测到对应 device：

```
ADB$ adb devices
```

示例：

```
PS D:\ADB Tool\adb-tools> .\adb.exe devices
List of devices attached
5d5543a9bcc93eec        device
```



### **ADB 功能使用**

关于 ADB 功能的其他使用方法，请参考[ADB功能使用](../08-进阶/ADB功能使用.md)。



## **用户及密码**

### 用户信息

不同系统的默认用户名和密码如下：

| 系统   | 用户名 | 密码   |
| ------ | ------ | ------ |
| Debian | linaro | linaro |
| Debian | root   | root   |
| Ubuntu | kickpi | kickpi |
| Ubuntu | root   | root   |



### 修改用户密码

```
console$ passwd $username
```

示例：

```
root@kickpi:/# passwd kickpi
New password:
Retype new password:
passwd: password updated successfully
```



## SSH

### 支持平台

Debian / Ubuntu



### **连接SSH**

在命令行中输入以下命令进行 SSH 连接：

```bash
$ ssh <username>@<IP>
```

**注意事项**

- 确保主板网络连接正常。
- 确保电脑能够正常 ping 通主板的 IP 地址。
- 确保输入的用户名和密码存在且正确。



示例：

```
PS C:\Users\16708> ssh kickpi@192.168.77.186
The authenticity of host '192.168.77.186 (192.168.77.186)' can't be established.
ED25519 key fingerprint is SHA256:635IZrLQdeYlWWl3SCdLxu9fxLEPmStBapj4APCjzZE.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.77.186' (ED25519) to the list of known hosts.
kickpi@192.168.77.186's password:
Welcome to Ubuntu 24.04.2 LTS (GNU/Linux 6.1.75 aarch64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

kickpi@kickpi:~$
```



**root用户登陆配置**

默认情况下，不支持 root 用户通过 SSH 登陆，若需要使用 root 用户登陆，需修改 SSH 配置文件：

```bash
console$ vim /etc/ssh/ssh_config
+ PermitRootLogin yes
console$ vim /etc/ssh/sshd_config
+ PermitRootLogin yes
console$ sudo /etc/init.d/ssh restart
```



**确认配置是否成功**

运行以下命令，若输出结果为 `PermitRootLogin yes`，则表示配置成功：

```
console$ cat /etc/ssh/ssh_config | grep PermitRootLogin
PermitRootLogin yes
console$ cat /etc/ssh/sshd_config | grep PermitRootLogin
PermitRootLogin yes
```



## 常见问题

### **上电供电问题**

当主板接入较多外设，导致功耗较高时，接入电源后，上电绿灯可能会较暗或不能保持常亮，系统启动也可能出现异常。

**解决方案**：这一般是电源供电问题，请检测对应电源的功耗是否足够，能否支持所连接的外设模块供电。



### **MIPI屏幕无法显示问题**

若 MIPI 屏幕无法显示，可检测接线是否正确，背光是否正常点亮。

**解决方案**：

观察背光未点亮，需要检查接线。[MIPI_DSI接线](#MIPIDSI)

观察背光已点亮，需要检查软件。（K7 V1.2 还未支持自动识别 MIPI 屏幕，对应屏幕需要烧录不同的软件）



### **调试串口使用异常问题**

使用 Mobaxterm 软件或其他串口工具连接串口时，发现串口乱码，或者只能显示无法写入问题。

**解决方案**：一般为调试串口工具不支持 1500000 波特率，建议使用支持 1500000 波特率的调试串口工具。



### **用户名密码错误问题**

使用 ssh 登陆时，密码错误。

**解决方案**：请确认相关账号是否存在，以及密码是否正确。可使用以下命令修改用户密码：

```
console$ passwd $username
```

示例：

```
root@kickpi:/# passwd kickpi
New password:
Retype new password:
passwd: password updated successfully
```



### 什么是主板命令行控制台？<a id="console_readme"> </a>

命令行控制台，文档中泛指可以通过文本命令与计算机系统交互的操作界面。用户通过输入特定指令来执行操作（如文件管理、程序运行、系统配置等），而非依赖图形化界面（GUI）的鼠标点击和可视化操作。

命令行控制台举例：

Android 系统，可以使用串口或adb shell，使用命令行控制台。

```
console$
```

Debian 系统，可以使用串口或者adb shell，ssh等方式，使用命令行控制台。

```
root@linaro$
```

Ubuntu 系统，可以使用串口或者adb shell，ssh等方式，使用命令行控制台。

```
kickpi@kickpi$
```

